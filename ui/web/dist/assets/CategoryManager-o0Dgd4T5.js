import{r as l,j as e,B as x,T as f,a as i,A as p,b as y,W as I,X as D,Y as v,di as k,I as h,g as A,h as b,i as E,k as S,l as T,m as B,p as L}from"./index-z51Q_M-r.js";function w({categories:o,onCategoryChange:r}){const[j,t]=l.useState(!1),[d,c]=l.useState(null),[n,a]=l.useState(""),u=()=>{c(null),a(""),t(!0)},g=s=>{c(s),a(s),t(!0)},m=()=>{console.log("保存分类:",n,d),t(!1),r()},C=s=>{window.confirm(`确定要删除分类"${s}"吗？`)&&(console.log("删除分类:",s),r())};return e.jsxs(x,{children:[e.jsxs(x,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center",mb:2},children:[e.jsx(f,{variant:"h6",children:"分类管理"}),e.jsx(i,{variant:"contained",startIcon:e.jsx(p,{}),onClick:u,children:"新建分类"})]}),o.length===0?e.jsx(y,{severity:"info",children:'暂无分类，点击"新建分类"创建第一个分类'}):e.jsx(I,{children:o.map(s=>e.jsxs(D,{children:[e.jsx(v,{primary:s}),e.jsxs(k,{children:[e.jsx(h,{edge:"end",onClick:()=>g(s),children:e.jsx(A,{})}),e.jsx(h,{edge:"end",onClick:()=>C(s),color:"error",children:e.jsx(b,{})})]})]},s))}),e.jsxs(E,{open:j,onClose:()=>t(!1),maxWidth:"sm",fullWidth:!0,children:[e.jsx(S,{children:d?"编辑分类":"新建分类"}),e.jsx(T,{children:e.jsx(B,{label:"分类名称",value:n,onChange:s=>a(s.target.value),fullWidth:!0,required:!0,sx:{mt:2}})}),e.jsxs(L,{children:[e.jsx(i,{onClick:()=>t(!1),children:"取消"}),e.jsx(i,{onClick:m,variant:"contained",disabled:!n,children:"保存"})]})]})]})}export{w as default};
