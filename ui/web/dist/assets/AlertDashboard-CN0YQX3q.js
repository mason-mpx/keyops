import{r as o,an as Te,u as Le,j as r,B as v,C as We,T as E,F as Oe,n as Ne,o as _e,M as X,ab as Re,ca as ze,V as Be,c as Fe,w as K,x as M,cb as Ke,cc as Me,P as $e}from"./index-STo1oTDL.js";import{a as Y}from"./alertApi-ZkZdrWaX.js";import{C as U}from"./Chip-v5QMYL72.js";import{f as V,j as ee,l as xe,m as fe,k as Ge,aP as He,t as Ve,c as Xe,aQ as ve,n as re,o as Ye,y as Ue,z as ye,D as Ze,A as ge,B as Je,E as qe,F as Qe,w as ea,G as be,H as aa,J as ta,aR as ra,I as na,M as ia,aS as sa,aT as la,Z as oa,x as $,P as da,O as ne,aU as ie,e as z,a0 as ca,aV as ua,a1 as pa,a2 as N,a as ha,a7 as ma,a3 as xa,a4 as fa,a5 as Ae,aW as va,aH as Z,b as G,aX as ya,a9 as ga,aa as ba,R as J,C as se,X as le,Y as oe,T as q,L as Q}from"./CartesianChart-DTG_C87E.js";import{s as ae,b as te,B as Aa,a as ja}from"./BarChart-tjaN8OJN.js";import{C as de}from"./tooltipContext-B2CQC3Eu.js";import{P as Ia,a as Ca}from"./PieChart-aYPvio61.js";import{g as Pa,A as ce,D as Sa,L as Ea}from"./Line-CRFNg42D.js";import{T as Da,a as ka,b as wa,c as ue,d as _,e as Ta}from"./TableRow-e9fRaRV7.js";import"./value-BSrK5PS5.js";var je=(e,a,t)=>xe(e,"xAxis",ae(e,a),t),Ie=(e,a,t)=>fe(e,"xAxis",ae(e,a),t),Ce=(e,a,t)=>xe(e,"yAxis",te(e,a),t),Pe=(e,a,t)=>fe(e,"yAxis",te(e,a),t),La=V([ee,je,Ce,Ie,Pe],(e,a,t,n,d)=>ve(e,"xAxis")?re(a,n,!1):re(t,d,!1)),Wa=(e,a)=>a,Se=V([Ye,Wa],(e,a)=>e.filter(t=>t.type==="area").find(t=>t.id===a)),Ee=e=>{var a=ee(e),t=ve(a,"xAxis");return t?"yAxis":"xAxis"},Oa=(e,a)=>{var t=Ee(e);return t==="yAxis"?te(e,a):ae(e,a)},Na=(e,a,t)=>Ve(e,Ee(e),Oa(e,a),t),_a=V([Se,Na],(e,a)=>{var t;if(!(e==null||a==null)){var{stackId:n}=e,d=Xe(e);if(!(n==null||d==null)){var i=(t=a[n])===null||t===void 0?void 0:t.stackedData,c=i?.find(l=>l.key===d);if(c!=null)return c.map(l=>[l[0],l[1]])}}}),Ra=V([ee,je,Ce,Ie,Pe,_a,Ge,La,Se,He],(e,a,t,n,d,i,c,l,u,x)=>{var{chartData:h,dataStartIndex:f,dataEndIndex:A}=c;if(!(u==null||e!=="horizontal"&&e!=="vertical"||a==null||t==null||n==null||d==null||n.length===0||d.length===0||l==null)){var{data:y}=u,j;if(y&&y.length>0?j=y:j=h?.slice(f,A+1),j!=null)return tt({layout:e,xAxis:a,yAxis:t,xAxisTicks:n,yAxisTicks:d,dataStartIndex:f,areaSettings:u,stackedData:i,displayedData:j,chartBaseValue:x,bandSize:l})}}),za=["id"],Ba=["activeDot","animationBegin","animationDuration","animationEasing","connectNulls","dot","fill","fillOpacity","hide","isAnimationActive","legendType","stroke","xAxisId","yAxisId"];function O(){return O=Object.assign?Object.assign.bind():function(e){for(var a=1;a<arguments.length;a++){var t=arguments[a];for(var n in t)({}).hasOwnProperty.call(t,n)&&(e[n]=t[n])}return e},O.apply(null,arguments)}function De(e,a){if(e==null)return{};var t,n,d=Fa(e,a);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)t=i[n],a.indexOf(t)===-1&&{}.propertyIsEnumerable.call(e,t)&&(d[t]=e[t])}return d}function Fa(e,a){if(e==null)return{};var t={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(a.indexOf(n)!==-1)continue;t[n]=e[n]}return t}function pe(e,a){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);a&&(n=n.filter(function(d){return Object.getOwnPropertyDescriptor(e,d).enumerable})),t.push.apply(t,n)}return t}function R(e){for(var a=1;a<arguments.length;a++){var t=arguments[a]!=null?arguments[a]:{};a%2?pe(Object(t),!0).forEach(function(n){Ka(e,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):pe(Object(t)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})}return e}function Ka(e,a,t){return(a=Ma(a))in e?Object.defineProperty(e,a,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[a]=t,e}function Ma(e){var a=$a(e,"string");return typeof a=="symbol"?a:a+""}function $a(e,a){if(typeof e!="object"||!e)return e;var t=e[Symbol.toPrimitive];if(t!==void 0){var n=t.call(e,a);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(a==="string"?String:Number)(e)}function H(e,a){return e&&e!=="none"?e:a}var Ga=e=>{var{dataKey:a,name:t,stroke:n,fill:d,legendType:i,hide:c}=e;return[{inactive:c,dataKey:a,type:i,color:H(n,d),value:be(t,a),payload:e}]},Ha=o.memo(e=>{var{dataKey:a,data:t,stroke:n,strokeWidth:d,fill:i,name:c,hide:l,unit:u,tooltipType:x,id:h}=e,f={dataDefinedOnItem:t,positions:void 0,settings:{stroke:n,strokeWidth:d,fill:i,dataKey:a,nameKey:void 0,name:be(c,a),hide:l,type:x,color:H(n,i),unit:u,graphicalItemId:h}};return o.createElement(aa,{tooltipEntrySettings:f})});function Va(e){var{clipPathId:a,points:t,props:n}=e,{needClip:d,dot:i,dataKey:c}=n,l=Ae(n);return o.createElement(Sa,{points:t,dot:i,className:"recharts-area-dots",dotClassName:"recharts-area-dot",dataKey:c,baseProps:l,needClip:d,clipPathId:a})}function Xa(e){var{showLabels:a,children:t,points:n}=e,d=n.map(i=>{var c,l,u={x:(c=i.x)!==null&&c!==void 0?c:0,y:(l=i.y)!==null&&l!==void 0?l:0,width:0,lowerWidth:0,upperWidth:0,height:0};return R(R({},u),{},{value:i.value,payload:i.payload,parentViewBox:void 0,viewBox:u,fill:void 0})});return o.createElement(fa,{value:a?d:void 0},t)}function he(e){var{points:a,baseLine:t,needClip:n,clipPathId:d,props:i}=e,{layout:c,type:l,stroke:u,connectNulls:x,isRange:h}=i,{id:f}=i,A=De(i,za),y=Ae(A),j=va(A);return o.createElement(o.Fragment,null,a?.length>1&&o.createElement($,{clipPath:n?"url(#clipPath-".concat(d,")"):void 0},o.createElement(Z,O({},j,{id:f,points:a,connectNulls:x,type:l,baseLine:t,layout:c,stroke:"none",className:"recharts-area-area"})),u!=="none"&&o.createElement(Z,O({},y,{className:"recharts-area-curve",layout:c,type:l,connectNulls:x,fill:"none",points:a})),u!=="none"&&h&&o.createElement(Z,O({},y,{className:"recharts-area-curve",layout:c,type:l,connectNulls:x,fill:"none",points:t}))),o.createElement(Va,{points:a,props:A,clipPathId:d}))}function Ya(e){var a,t,{alpha:n,baseLine:d,points:i,strokeWidth:c}=e,l=(a=i[0])===null||a===void 0?void 0:a.y,u=(t=i[i.length-1])===null||t===void 0?void 0:t.y;if(!G(l)||!G(u))return null;var x=n*Math.abs(l-u),h=Math.max(...i.map(f=>f.x||0));return z(d)?h=Math.max(d,h):d&&Array.isArray(d)&&d.length&&(h=Math.max(...d.map(f=>f.x||0),h)),z(h)?o.createElement("rect",{x:0,y:l<u?l:l-x,width:h+(c?parseInt("".concat(c),10):1),height:Math.floor(x)}):null}function Ua(e){var a,t,{alpha:n,baseLine:d,points:i,strokeWidth:c}=e,l=(a=i[0])===null||a===void 0?void 0:a.x,u=(t=i[i.length-1])===null||t===void 0?void 0:t.x;if(!G(l)||!G(u))return null;var x=n*Math.abs(l-u),h=Math.max(...i.map(f=>f.y||0));return z(d)?h=Math.max(d,h):d&&Array.isArray(d)&&d.length&&(h=Math.max(...d.map(f=>f.y||0),h)),z(h)?o.createElement("rect",{x:l<u?l:l-x,y:0,width:x,height:Math.floor(h+(c?parseInt("".concat(c),10):1))}):null}function Za(e){var{alpha:a,layout:t,points:n,baseLine:d,strokeWidth:i}=e;return t==="vertical"?o.createElement(Ya,{alpha:a,points:n,baseLine:d,strokeWidth:i}):o.createElement(Ua,{alpha:a,points:n,baseLine:d,strokeWidth:i})}function Ja(e){var{needClip:a,clipPathId:t,props:n,previousPointsRef:d,previousBaselineRef:i}=e,{points:c,baseLine:l,isAnimationActive:u,animationBegin:x,animationDuration:h,animationEasing:f,onAnimationStart:A,onAnimationEnd:y}=n,j=o.useMemo(()=>({points:c,baseLine:l}),[c,l]),C=ca(j,"recharts-area-"),g=ua(),[P,s]=o.useState(!1),p=!P,m=o.useCallback(()=>{typeof y=="function"&&y(),s(!1)},[y]),I=o.useCallback(()=>{typeof A=="function"&&A(),s(!0)},[A]);if(g==null)return null;var S=d.current,D=i.current;return o.createElement(Xa,{showLabels:p,points:c},n.children,o.createElement(pa,{animationId:C,begin:x,duration:h,isActive:u,easing:f,onAnimationEnd:m,onAnimationStart:I,key:C},b=>{if(S){var T=S.length/c.length,L=b===1?c:c.map((k,B)=>{var W=Math.floor(B*T);if(S[W]){var F=S[W];return R(R({},k),{},{x:N(F.x,k.x,b),y:N(F.y,k.y,b)})}return k}),w;return z(l)?w=N(D,l,b):ha(l)||ma(l)?w=N(D,0,b):w=l.map((k,B)=>{var W=Math.floor(B*T);if(Array.isArray(D)&&D[W]){var F=D[W];return R(R({},k),{},{x:N(F.x,k.x,b),y:N(F.y,k.y,b)})}return k}),b>0&&(d.current=L,i.current=w),o.createElement(he,{points:L,baseLine:w,needClip:a,clipPathId:t,props:n})}return b>0&&(d.current=c,i.current=l),o.createElement($,null,u&&o.createElement("defs",null,o.createElement("clipPath",{id:"animationClipPath-".concat(t)},o.createElement(Za,{alpha:b,points:c,baseLine:l,layout:g,strokeWidth:n.strokeWidth}))),o.createElement($,{clipPath:"url(#animationClipPath-".concat(t,")")},o.createElement(he,{points:c,baseLine:l,needClip:a,clipPathId:t,props:n})))}),o.createElement(xa,{label:n.label}))}function qa(e){var{needClip:a,clipPathId:t,props:n}=e,d=o.useRef(null),i=o.useRef();return o.createElement(Ja,{needClip:a,clipPathId:t,props:n,previousPointsRef:d,previousBaselineRef:i})}class Qa extends o.PureComponent{render(){var{hide:a,dot:t,points:n,className:d,top:i,left:c,needClip:l,xAxisId:u,yAxisId:x,width:h,height:f,id:A,baseLine:y,zIndex:j}=this.props;if(a)return null;var C=Te("recharts-area",d),g=A,{r:P,strokeWidth:s}=Pa(t),p=la(t),m=P*2+s,I=l?"url(#clipPath-".concat(p?"":"dots-").concat(g,")"):void 0;return o.createElement(oa,{zIndex:j},o.createElement($,{className:C},l&&o.createElement("defs",null,o.createElement(da,{clipPathId:g,xAxisId:u,yAxisId:x}),!p&&o.createElement("clipPath",{id:"clipPath-dots-".concat(g)},o.createElement("rect",{x:c-m/2,y:i-m/2,width:h+m,height:f+m}))),o.createElement(qa,{needClip:l,clipPathId:g,props:this.props})),o.createElement(ce,{points:n,mainColor:H(this.props.stroke,this.props.fill),itemDataKey:this.props.dataKey,activeDot:this.props.activeDot,clipPath:I}),this.props.isRange&&Array.isArray(y)&&o.createElement(ce,{points:y,mainColor:H(this.props.stroke,this.props.fill),itemDataKey:this.props.dataKey,activeDot:this.props.activeDot,clipPath:I}))}}var ke={activeDot:!0,animationBegin:0,animationDuration:1500,animationEasing:"ease",connectNulls:!1,dot:!1,fill:"#3182bd",fillOpacity:.6,hide:!1,isAnimationActive:"auto",legendType:"line",stroke:"#3182bd",strokeWidth:1,type:"linear",label:!1,xAxisId:0,yAxisId:0,zIndex:Ze.area};function et(e){var a,t=ye(e,ke),{activeDot:n,animationBegin:d,animationDuration:i,animationEasing:c,connectNulls:l,dot:u,fill:x,fillOpacity:h,hide:f,isAnimationActive:A,legendType:y,stroke:j,xAxisId:C,yAxisId:g}=t,P=De(t,Ba),s=ta(),p=ra(),{needClip:m}=na(C,g),I=ge(),{points:S,isRange:D,baseLine:b}=(a=ia(W=>Ra(W,e.id,I)))!==null&&a!==void 0?a:{},T=sa();if(s!=="horizontal"&&s!=="vertical"||T==null||p!=="AreaChart"&&p!=="ComposedChart")return null;var{height:L,width:w,x:k,y:B}=T;return!S||!S.length?null:o.createElement(Qa,O({},P,{activeDot:n,animationBegin:d,animationDuration:i,animationEasing:c,baseLine:b,connectNulls:l,dot:u,fill:x,fillOpacity:h,height:L,hide:f,layout:s,isAnimationActive:A==="auto"?!ya.isSsr:A,isRange:D,legendType:y,needClip:m,points:S,stroke:j,width:w,left:k,top:B,xAxisId:C,yAxisId:g}))}var at=(e,a,t,n,d)=>{var i=t??a;if(z(i))return i;var c=e==="horizontal"?d:n,l=c.scale.domain();if(c.type==="number"){var u=Math.max(l[0],l[1]),x=Math.min(l[0],l[1]);return i==="dataMin"?x:i==="dataMax"||u<0?u:Math.max(Math.min(l[0],l[1]),0)}return i==="dataMin"?l[0]:i==="dataMax"?l[1]:l[0]};function tt(e){var{areaSettings:{connectNulls:a,baseValue:t,dataKey:n},stackedData:d,layout:i,chartBaseValue:c,xAxis:l,yAxis:u,displayedData:x,dataStartIndex:h,xAxisTicks:f,yAxisTicks:A,bandSize:y}=e,j=d&&d.length,C=at(i,c,t,l,u),g=i==="horizontal",P=!1,s=x.map((m,I)=>{var S,D,b;if(j)b=d[h+I];else{var T=ne(m,n);Array.isArray(T)?(b=T,P=!0):b=[C,T]}var L=(S=(D=b)===null||D===void 0?void 0:D[1])!==null&&S!==void 0?S:null,w=L==null||j&&!a&&ne(m,n)==null;return g?{x:ie({axis:l,ticks:f,bandSize:y,entry:m,index:I}),y:w?null:u.scale(L),value:b,payload:m}:{x:w?null:l.scale(L),y:ie({axis:u,ticks:A,bandSize:y,entry:m,index:I}),value:b,payload:m}}),p;return j||P?p=s.map(m=>{var I=Array.isArray(m.value)?m.value[0]:null;return g?{x:m.x,y:I!=null&&m.y!=null?u.scale(I):null,payload:m.payload}:{x:I!=null?l.scale(I):null,y:m.y,payload:m.payload}}):p=g?u.scale(C):l.scale(C),{points:s,baseLine:p,isRange:P}}function rt(e){var a=ye(e,ke),t=ge();return o.createElement(Je,{id:a.id,type:"area"},n=>o.createElement(o.Fragment,null,o.createElement(qe,{legendPayload:Ga(a)}),o.createElement(Ha,{dataKey:a.dataKey,data:a.data,stroke:a.stroke,strokeWidth:a.strokeWidth,fill:a.fill,name:a.name,hide:a.hide,unit:a.unit,tooltipType:a.tooltipType,id:n}),o.createElement(Qe,{type:"area",id:n,data:a.data,dataKey:a.dataKey,xAxisId:a.xAxisId,yAxisId:a.yAxisId,zAxisId:0,stackId:ea(a.stackId),hide:a.hide,barSize:void 0,baseValue:a.baseValue,isPanorama:t,connectNulls:a.connectNulls}),o.createElement(et,O({},a,{id:n}))))}var we=o.memo(rt,Ue);we.displayName="Area";var nt=["axis"],it=o.forwardRef((e,a)=>o.createElement(ga,{chartName:"AreaChart",defaultTooltipEventType:"axis",validateTooltipEventTypes:nt,tooltipPayloadSearcher:ba,categoricalChartProps:e,ref:a}));const me=["#0088FE","#00C49F","#FFBB28","#FF8042","#8884d8"],st=e=>Array.isArray(e)?e.map(a=>({date:a.date||"",count:typeof a.count=="number"?a.count:parseInt(String(a.count))||0})):(console.warn("[AlertDashboard] Trend data is not an array:",e),[]);function vt(){const{t:e}=Le(),[a,t]=o.useState(!1),[n,d]=o.useState("7d"),[i,c]=o.useState(null),[l,u]=o.useState([]),[x,h]=o.useState([]),f=o.useCallback(async()=>{try{t(!0);const[s,p,m]=await Promise.all([Y.getStatistics({time_range:n}),Y.getTrendStatistics({time_range:n}),Y.getTopAlerts({time_range:n,limit:10})]);if(s.data.code===0?c(s.data.data):console.error("Failed to fetch statistics:",s.data),p.data.code===0){console.log("[AlertDashboard] Trend data received from backend:",p.data.data);const I=st(p.data.data);console.log("[AlertDashboard] Formatted trend data:",I),u(I)}else console.error("Failed to fetch trend statistics:",p.data),u([]);m.data.code===0?h(m.data.data):(console.error("Failed to fetch top alerts:",m.data),h([]))}catch(s){console.error("Failed to fetch dashboard data:",s),c(null),u([]),h([])}finally{t(!1)}},[n]);o.useEffect(()=>{f()},[f]);const A=s=>`P${s}`,j=(()=>{if(!i)return{direction:"neutral",diff:0};const s=i.today_count-i.yesterday_count;return{direction:s>0?"up":s<0?"down":"neutral",diff:Math.abs(s)}})(),C=i?Object.entries(i.by_level).map(([s,p])=>({name:A(parseInt(s)),value:p,level:parseInt(s)})).filter(s=>s.value>0).sort((s,p)=>s.level-p.level):[],g=i?[{name:e("Unclaimed")||"未认领",value:i.by_status.unclaimed,color:"#ff9800"},{name:e("Claimed")||"已认领",value:i.by_status.claimed,color:"#2196f3"},{name:e("Closed")||"已关闭",value:i.by_status.closed,color:"#4caf50"}].filter(s=>s.value>0):[],P=l.map(s=>({...s,date:n==="24h"?s.date.split(" ")[1]?.substring(0,5)||s.date:s.date.split(" ")[0]||s.date}));return a&&!i?r.jsx(v,{sx:{display:"flex",justifyContent:"center",alignItems:"center",minHeight:"400px"},children:r.jsx(We,{})}):r.jsxs(v,{children:[r.jsxs(v,{display:"flex",justifyContent:"space-between",alignItems:"center",mb:3,children:[r.jsx(E,{variant:"h4",component:"h1",children:e("Alert Dashboard")||"告警大盘"}),r.jsxs(Oe,{size:"small",sx:{minWidth:150},children:[r.jsx(Ne,{children:e("Time Range")||"时间范围"}),r.jsxs(_e,{value:n,label:e("Time Range")||"时间范围",onChange:s=>d(s.target.value),children:[r.jsx(X,{value:"24h",children:e("Last 24 Hours")||"最近24小时"}),r.jsx(X,{value:"7d",children:e("Last 7 Days")||"最近7天"}),r.jsx(X,{value:"30d",children:e("Last 30 Days")||"最近30天"})]})]})]}),r.jsx(v,{sx:{display:"flex",gap:2.5,mb:3,flexWrap:{xs:"wrap",sm:"nowrap"}},children:[{label:e("Total Alerts")||"总告警数",value:i?.total||0,icon:Re,color:"#f59e0b",bg:"#fef3c7"},{label:e("Today Alerts")||"今日告警",value:i?.today_count||0,icon:ze,color:"#3b82f6",bg:"#dbeafe",trend:j},{label:e("Unrecovered Alerts")||"未恢复告警",value:i?.by_recovery.unrecovered||0,icon:Be,color:"#ef4444",bg:"#fee2e2"},{label:e("Recovered Alerts")||"已恢复告警",value:i?.by_recovery.recovered||0,icon:Fe,color:"#10b981",bg:"#d1fae5"}].map((s,p)=>r.jsx(v,{sx:{flex:1,minWidth:{xs:"100%",sm:0}},children:r.jsx(K,{elevation:0,sx:{border:"1px solid #e2e8f0",width:"100%",height:{xs:"160px",sm:"180px"},transition:"all 0.3s ease","&:hover":{boxShadow:"0 4px 12px rgba(0,0,0,0.08)",transform:"translateY(-2px)"}},children:r.jsxs(M,{sx:{p:{xs:2.5,sm:3.5},height:"100%",display:"flex",flexDirection:"column",justifyContent:"space-between"},children:[r.jsxs(v,{sx:{display:"flex",alignItems:"center",justifyContent:"space-between"},children:[r.jsx(E,{variant:"body2",color:"text.secondary",fontWeight:500,sx:{fontSize:{xs:"0.75rem",sm:"0.875rem"}},children:s.label}),r.jsx(v,{sx:{width:{xs:40,sm:48},height:{xs:40,sm:48},borderRadius:2.5,backgroundColor:s.bg,display:"flex",alignItems:"center",justifyContent:"center"},children:r.jsx(s.icon,{sx:{fontSize:{xs:24,sm:28},color:s.color}})})]}),r.jsxs(v,{children:[r.jsx(E,{variant:"h2",fontWeight:"700",color:"text.primary",sx:{fontSize:{xs:"2rem",sm:"3rem"}},children:s.value}),s.trend&&r.jsxs(v,{sx:{display:"flex",alignItems:"center",mt:1},children:[s.trend.direction==="up"&&r.jsx(Ke,{color:"error",sx:{fontSize:16}}),s.trend.direction==="down"&&r.jsx(Me,{color:"success",sx:{fontSize:16}}),s.trend.direction==="neutral"&&r.jsx(v,{sx:{width:16}}),r.jsxs(E,{variant:"caption",color:s.trend.direction==="up"?"error.main":s.trend.direction==="down"?"success.main":"text.secondary",sx:{ml:.5},children:[s.trend.diff>0&&"+",s.trend.diff," ",e("vs Yesterday")||"较昨日"]})]})]})]})})},p))}),r.jsxs(v,{sx:{display:"flex",gap:2.5,mb:3,flexWrap:{xs:"wrap",md:"nowrap"}},children:[r.jsx(v,{sx:{flex:1,minWidth:{xs:"100%",md:0}},children:r.jsx(K,{elevation:0,sx:{border:"1px solid #e2e8f0",width:"100%"},children:r.jsxs(M,{sx:{p:{xs:2,sm:3}},children:[r.jsx(E,{variant:"h6",fontWeight:"600",color:"text.primary",mb:2,sx:{fontSize:{xs:"1rem",sm:"1.25rem"}},children:e("Alert Status Distribution")||"告警状态分布"}),r.jsxs(v,{sx:{display:"flex",gap:2,mb:2,flexWrap:"wrap"},children:[r.jsx(U,{label:`${e("Unclaimed")||"未认领"}: ${i?.by_status.unclaimed||0}`,color:"warning",size:"small"}),r.jsx(U,{label:`${e("Claimed")||"已认领"}: ${i?.by_status.claimed||0}`,color:"info",size:"small"}),r.jsx(U,{label:`${e("Closed")||"已关闭"}: ${i?.by_status.closed||0}`,color:"success",size:"small"})]}),g.length>0&&g.some(s=>s.value>0)?r.jsx(J,{width:"100%",height:320,children:r.jsxs(Aa,{data:g,margin:{top:20,right:30,left:20,bottom:5},children:[r.jsx(se,{strokeDasharray:"3 3"}),r.jsx(le,{dataKey:"name"}),r.jsx(oe,{}),r.jsx(q,{formatter:s=>[s??0,e("Count")||"数量"],labelStyle:{fontWeight:"bold"}}),r.jsx(Q,{}),r.jsx(ja,{dataKey:"value",fill:"#8884d8",radius:[8,8,0,0],children:g.map((s,p)=>r.jsx(de,{fill:p===0?"#ff9800":p===1?"#2196f3":"#4caf50"},`cell-${p}`))})]})}):r.jsx(v,{display:"flex",justifyContent:"center",alignItems:"center",minHeight:"300px",children:r.jsx(E,{color:"text.secondary",children:e("No Data")||"暂无数据"})})]})})}),r.jsx(v,{sx:{flex:1,minWidth:{xs:"100%",md:0}},children:r.jsx(K,{elevation:0,sx:{border:"1px solid #e2e8f0",width:"100%"},children:r.jsxs(M,{sx:{p:{xs:2,sm:3}},children:[r.jsx(E,{variant:"h6",fontWeight:"600",color:"text.primary",mb:2,sx:{fontSize:{xs:"1rem",sm:"1.25rem"}},children:e("Alert Level Distribution")||"告警等级分布"}),C.length>0&&C.some(s=>s.value>0)?r.jsx(J,{width:"100%",height:320,children:r.jsxs(Ia,{children:[r.jsx(Ca,{data:C,cx:"50%",cy:"50%",labelLine:!1,label:({name:s,percent:p,value:m})=>m>0&&p!==void 0?`${s}: ${m} (${(p*100).toFixed(1)}%)`:"",outerRadius:100,fill:"#8884d8",dataKey:"value",children:C.map((s,p)=>r.jsx(de,{fill:me[p%me.length]},`cell-${p}`))}),r.jsx(q,{formatter:s=>[s??0,e("Count")||"数量"]}),r.jsx(Q,{formatter:(s,p)=>`${s}: ${p.payload?.value||0}`})]})}):r.jsx(v,{display:"flex",justifyContent:"center",alignItems:"center",minHeight:"300px",children:r.jsx(E,{color:"text.secondary",children:e("No Data")||"暂无数据"})})]})})})]}),r.jsx(v,{sx:{mb:3},children:r.jsx(K,{elevation:0,sx:{border:"1px solid #e2e8f0",width:"100%"},children:r.jsxs(M,{sx:{p:{xs:2,sm:3}},children:[r.jsx(E,{variant:"h6",fontWeight:"600",color:"text.primary",mb:2,sx:{fontSize:{xs:"1rem",sm:"1.25rem"}},children:e("Alert Trend")||"告警趋势"}),P.length>0?r.jsx(J,{width:"100%",height:400,children:r.jsxs(it,{data:P,margin:{top:20,right:30,left:20,bottom:n==="24h"?60:20},children:[r.jsx("defs",{children:r.jsxs("linearGradient",{id:"colorCount",x1:"0",y1:"0",x2:"0",y2:"1",children:[r.jsx("stop",{offset:"5%",stopColor:"#8884d8",stopOpacity:.8}),r.jsx("stop",{offset:"95%",stopColor:"#8884d8",stopOpacity:.1})]})}),r.jsx(se,{strokeDasharray:"3 3",stroke:"#e0e0e0"}),r.jsx(le,{dataKey:"date",tick:{fontSize:12},angle:n==="24h"?-45:0,textAnchor:n==="24h"?"end":"middle",height:n==="24h"?80:30}),r.jsx(oe,{tick:{fontSize:12},label:{value:e("Count")||"数量",angle:-90,position:"insideLeft"}}),r.jsx(q,{formatter:s=>[s??0,e("Alert Count")||"告警数量"],labelStyle:{fontWeight:"bold"},contentStyle:{borderRadius:"8px",border:"1px solid #e0e0e0"}}),r.jsx(Q,{}),r.jsx(we,{type:"monotone",dataKey:"count",stroke:"#8884d8",strokeWidth:3,fill:"url(#colorCount)",name:e("Alert Count")||"告警数量"}),r.jsx(Ea,{type:"monotone",dataKey:"count",stroke:"#8884d8",strokeWidth:2,dot:{fill:"#8884d8",r:4},activeDot:{r:6}})]})}):r.jsx(v,{display:"flex",justifyContent:"center",alignItems:"center",minHeight:"400px",children:r.jsx(E,{color:"text.secondary",children:e("No Data")||"暂无数据"})})]})})}),r.jsx(v,{sx:{mb:3},children:r.jsx(K,{elevation:0,sx:{border:"1px solid #e2e8f0",width:"100%"},children:r.jsxs(M,{sx:{p:{xs:2,sm:3}},children:[r.jsx(E,{variant:"h6",fontWeight:"600",color:"text.primary",mb:2,sx:{fontSize:{xs:"1rem",sm:"1.25rem"}},children:e("Top Alerts")||"Top 告警"}),x.length>0?r.jsx(Da,{component:$e,elevation:0,sx:{border:"1px solid #e2e8f0"},children:r.jsxs(ka,{children:[r.jsx(wa,{children:r.jsxs(ue,{children:[r.jsx(_,{children:e("Rank")||"排名"}),r.jsx(_,{children:e("Alert Title")||"告警标题"}),r.jsx(_,{align:"right",children:e("Count")||"触发次数"})]})}),r.jsx(Ta,{children:x.map((s,p)=>r.jsxs(ue,{children:[r.jsx(_,{children:p+1}),r.jsx(_,{children:s.alert_title}),r.jsx(_,{align:"right",children:s.count})]},p))})]})}):r.jsx(v,{display:"flex",justifyContent:"center",alignItems:"center",minHeight:"200px",children:r.jsx(E,{color:"text.secondary",children:e("No Data")||"暂无数据"})})]})})})]})}export{vt as default};
